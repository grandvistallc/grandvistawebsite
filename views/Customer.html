<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Database</title>
    <link rel="stylesheet" href="Customer.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Customer Database</h1>
            <p>Manage your customer information efficiently</p>
        </header>

        <main>
            <!-- Search Section -->
            <section class="search-section">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Quick search by customer name, email, phone, package, or any field...">
                    <button id="clearSearch">Clear</button>
                    <button id="toggleAdvancedSearch" class="btn-advanced">Advanced Search</button>
                </div>
                
                <!-- Advanced Search Panel -->
                <div id="advancedSearchPanel" class="advanced-search-panel hidden">
                    <h3>Advanced Search & Filters</h3>
                    
                    <div class="advanced-search-grid">
                        <!-- Customer Info Filters -->
                        <div class="search-group">
                            <h4>Customer Information</h4>
                            <div class="form-group">
                                <label for="searchCustomer">Customer Name</label>
                                <input type="text" id="searchCustomer" placeholder="Search by name">
                            </div>
                            <div class="form-group">
                                <label for="searchEmail">Email</label>
                                <input type="email" id="searchEmail" placeholder="Search by email">
                            </div>
                            <div class="form-group">
                                <label for="searchPhone">Phone</label>
                                <input type="tel" id="searchPhone" placeholder="Search by phone">
                            </div>
                        </div>

                        <!-- Service Filters -->
                        <div class="search-group">
                            <h4>Service Details</h4>
                            <div class="form-group">
                                <label for="searchPackage">Package</label>
                                <select id="searchPackage">
                                    <option value="">All Packages</option>
                                    <option value="Basic">Basic</option>
                                    <option value="Standard">Standard</option>
                                    <option value="Premium">Premium</option>
                                    <option value="Enterprise">Enterprise</option>
                                    <option value="Custom">Custom</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="searchSize">Size</label>
                                <select id="searchSize">
                                    <option value="">All Sizes</option>
                                    <option value="Small">Small</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Large">Large</option>
                                    <option value="Extra Large">Extra Large</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="searchHeardFrom">Heard From</label>
                                <select id="searchHeardFrom">
                                    <option value="">All Sources</option>
                                    <option value="Google">Google Search</option>
                                    <option value="Facebook">Facebook</option>
                                    <option value="Instagram">Instagram</option>
                                    <option value="Referral">Referral</option>
                                    <option value="Website">Website</option>
                                    <option value="Advertisement">Advertisement</option>
                                    <option value="Word of Mouth">Word of Mouth</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>

                        <!-- Date & Price Filters -->
                        <div class="search-group">
                            <h4>Date & Price Range</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="searchDateFrom">Date From</label>
                                    <input type="date" id="searchDateFrom">
                                </div>
                                <div class="form-group">
                                    <label for="searchDateTo">Date To</label>
                                    <input type="date" id="searchDateTo">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="searchPriceMin">Min Price ($)</label>
                                    <input type="number" id="searchPriceMin" step="0.01" min="0" placeholder="0.00">
                                </div>
                                <div class="form-group">
                                    <label for="searchPriceMax">Max Price ($)</label>
                                    <input type="number" id="searchPriceMax" step="0.01" min="0" placeholder="1000.00">
                                </div>
                            </div>
                        </div>

                        <!-- Time & Location Filters -->
                        <div class="search-group">
                            <h4>Time & Location</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="searchTimeFrom">Time From</label>
                                    <input type="time" id="searchTimeFrom">
                                </div>
                                <div class="form-group">
                                    <label for="searchTimeTo">Time To</label>
                                    <input type="time" id="searchTimeTo">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="searchAddress">Address/Location</label>
                                <input type="text" id="searchAddress" placeholder="Search by address">
                            </div>
                            <div class="form-group">
                                <label for="searchNotes">Notes/Keywords</label>
                                <input type="text" id="searchNotes" placeholder="Search in notes">
                            </div>
                        </div>
                    </div>

                    <div class="advanced-search-actions">
                        <button id="applyAdvancedSearch" class="btn-primary">Apply Filters</button>
                        <button id="clearAdvancedSearch" class="btn-secondary">Clear All Filters</button>
                        <button id="saveSearch" class="btn-save">Save Search</button>
                        <select id="savedSearches">
                            <option value="">Load Saved Search...</option>
                        </select>
                    </div>
                </div>

                <div class="search-filters">
                    <select id="packageFilter">
                        <option value="">All Packages</option>
                        <option value="Basic">Basic</option>
                        <option value="Standard">Standard</option>
                        <option value="Premium">Premium</option>
                        <option value="Enterprise">Enterprise</option>
                        <option value="Custom">Custom</option>
                    </select>
                    <select id="sizeFilter">
                        <option value="">All Sizes</option>
                        <option value="Small">Small</option>
                        <option value="Medium">Medium</option>
                        <option value="Large">Large</option>
                        <option value="Extra Large">Extra Large</option>
                    </select>
                    <button id="exportData">Export Data</button>
                    <button id="importFromSheets" class="btn-sheets">Import from Google Sheets</button>
                    <span id="searchResults" class="search-results-info"></span>
                </div>
            </section>

            <!-- Google Sheets Import Section -->
            <section id="sheetsImportSection" class="sheets-import-section hidden">
                <h3>üìä Import from Google Sheets</h3>
                <div class="sheets-config">
                    
                    <!-- Sheet Selection -->
                    <div class="sheet-selection">
                        <h4>üìã Select Data Source</h4>
                        <div class="sheet-options">
                            <label class="sheet-option">
                                <input type="radio" name="sheetType" value="bookings" checked>
                                <div class="option-content">
                                    <strong>üÜï New Bookings Sheet</strong>
                                    <p>Import new customer bookings that need to be added to the database</p>
                                </div>
                            </label>
                            <label class="sheet-option">
                                <input type="radio" name="sheetType" value="customers">
                                <div class="option-content">
                                    <strong>üë• Existing Customer Database</strong>
                                    <p>Import from your existing customer database sheet</p>
                                </div>
                            </label>
                            <label class="sheet-option">
                                <input type="radio" name="sheetType" value="custom">
                                <div class="option-content">
                                    <strong>üîß Custom Sheet</strong>
                                    <p>Import from a different sheet with custom settings</p>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sheetsUrl">Google Sheets URL</label>
                        <input type="url" id="sheetsUrl" placeholder="Sheet URL will be auto-filled based on selection..." 
                               value="https://docs.google.com/spreadsheets/d/152pBQmy7OKze84ShxJLj4MUPLFquHXjIvaTk-cCJYco/edit?gid=987855776#gid=987855776">
                    </div>
                    
                    <div class="column-mapping">
                        <h4>üìã Column Mapping</h4>
                        <p id="mappingDescription">Map your Google Sheets columns to customer database fields:</p>
                        
                        <div class="mapping-grid" id="mappingGrid">
                            <!-- Column mappings will be dynamically populated -->
                        </div>
                    </div>

                    <div class="import-options">
                        <h4>‚öôÔ∏è Import Options</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="skipDuplicates" checked>
                                    Skip duplicate customers (by email)
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="updateExisting">
                                    Update existing customers with new data
                                </label>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="startRow">Start from row:</label>
                                <input type="number" id="startRow" value="2" min="1">
                            </div>
                            <div class="form-group">
                                <label for="maxRows">Max rows to import:</label>
                                <input type="number" id="maxRows" value="1000" min="1">
                            </div>
                        </div>
                    </div>

                    <div class="sheets-actions">
                        <button id="previewImport" class="btn-primary">Preview Import</button>
                        <button id="executeImport" class="btn-success" disabled>Import Data</button>
                        <button id="cancelImport" class="btn-secondary">Cancel</button>
                        <button id="autoSync" class="btn-auto">üîÑ Auto-Sync Setup</button>
                        <button id="testImport" class="btn-test">üß™ Test Import</button>
                    </div>

                    <div id="importPreview" class="import-preview hidden">
                        <h4>üìã Import Preview</h4>
                        <div id="previewContent"></div>
                    </div>
                </div>
            </section>

            <!-- Add Customer Section -->
            <section class="add-customer-section">
                <button id="toggleForm" class="btn-primary">Add New Customer Record</button>
                
                <form id="customerForm" class="customer-form hidden">
                    <h2 id="formTitle">Add New Customer Record</h2>
                    
                    <!-- Date and Customer Information -->
                    <div class="form-section">
                        <h3>Basic Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="date">Date *</label>
                                <input type="date" id="date" required>
                            </div>
                            <div class="form-group">
                                <label for="customer">Customer Name *</label>
                                <input type="text" id="customer" required placeholder="Full customer name">
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="form-section">
                        <h3>Contact Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" required>
                            </div>
                            <div class="form-group">
                                <label for="number">Phone Number</label>
                                <input type="tel" id="number" placeholder="(555) 123-4567">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="address">Address</label>
                            <textarea id="address" rows="2" placeholder="Full address including street, city, state, zip"></textarea>
                        </div>
                    </div>

                    <!-- Service Information -->
                    <div class="form-section">
                        <h3>Service Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="package">Package</label>
                                <select id="package">
                                    <option value="">Select Package</option>
                                    <option value="Basic">Basic</option>
                                    <option value="Standard">Standard</option>
                                    <option value="Premium">Premium</option>
                                    <option value="Enterprise">Enterprise</option>
                                    <option value="Custom">Custom</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="size">Size</label>
                                <select id="size">
                                    <option value="">Select Size</option>
                                    <option value="Small">Small</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Large">Large</option>
                                    <option value="Extra Large">Extra Large</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="addOns">Add-ons</label>
                            <textarea id="addOns" rows="2" placeholder="List any additional services or add-ons"></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="price">Price ($)</label>
                                <input type="number" id="price" step="0.01" min="0" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label for="heardFrom">Heard From</label>
                                <select id="heardFrom">
                                    <option value="">How did they hear about us?</option>
                                    <option value="Google">Google Search</option>
                                    <option value="Facebook">Facebook</option>
                                    <option value="Instagram">Instagram</option>
                                    <option value="Referral">Referral</option>
                                    <option value="Website">Website</option>
                                    <option value="Advertisement">Advertisement</option>
                                    <option value="Word of Mouth">Word of Mouth</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Timing Information -->
                    <div class="form-section">
                        <h3>Schedule</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="time">Start Time</label>
                                <input type="time" id="time">
                            </div>
                            <div class="form-group">
                                <label for="endTime">End Time</label>
                                <input type="time" id="endTime">
                            </div>
                        </div>
                    </div>

                    <!-- Additional Notes -->
                    <div class="form-section">
                        <h3>Additional Information</h3>
                        <div class="form-group">
                            <label for="notes">Notes</label>
                            <textarea id="notes" rows="3" placeholder="Any additional notes or special requirements..."></textarea>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Save Customer Record</button>
                        <button type="button" id="cancelForm" class="btn-secondary">Cancel</button>
                    </div>
                </form>
            </section>

            <!-- Customer List Section -->
            <section class="customer-list-section">
                <div class="list-header">
                    <h2>Customer List</h2>
                    <span id="customerCount">0 customers</span>
                </div>
                
                <div id="customerList" class="customer-grid">
                    <!-- Customer cards will be inserted here -->
                </div>
                
                <div id="noCustomers" class="no-customers hidden">
                    <p>No customers found. Add your first customer to get started!</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Customer Detail Modal -->
    <div id="customerModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalCustomerName"></h2>
                <button id="closeModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="customerDetails"></div>
            </div>
            <div class="modal-footer">
                <button id="editCustomer" class="btn-primary">Edit</button>
                <button id="deleteCustomer" class="btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <script src="Customer.js"></script>
</body>
</html>
